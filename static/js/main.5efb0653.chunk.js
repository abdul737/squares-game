(this["webpackJsonpsquares-game"]=this["webpackJsonpsquares-game"]||[]).push([[0],{87:function(e,t,a){},88:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),i=a.n(c),o=a(12),s=a.n(o),l=(a(87),a(88),a(129)),u=a(137),j=a(100);!function(e){e.MENU="/",e.GAME_OPTIONS="/game-options",e.GAME="/game",e.SETTINGS="/settings",e.INSTRUCTIONS="/instructions"}(n||(n={})),function(e){e.PLAYER_1="Player 1",e.PLAYER_2="Player 2"}(r||(r={}));var b,m,O,d,f,x={resumeGame:"Resume game",startGame:"Start new game",playAgain:"Play again",settings:"Settings",instructions:"Instructions",goBack:"Go back",menu:"Menu",save:"Save",cancel:"Cancel",chooseBoardSize:"Choose the board size",boardSize:"Board size",colorScheme:"Color scheme",x3:"Small (3x3)",x4:"Medium (4x4)",x6:"Large (6x6)",x8:"Extra Large (8x8)"},h=[{value:3,label:"x3"},{value:4,label:"x4"},{value:6,label:"x6"},{value:8,label:"x8"}],p=a(13),g=[(b={},Object(p.a)(b,r.PLAYER_1,"#f44336"),Object(p.a)(b,r.PLAYER_2,"#4caf50"),b),(m={},Object(p.a)(m,r.PLAYER_1,"#aa00ff"),Object(p.a)(m,r.PLAYER_2,"#00bfa5"),m),(O={},Object(p.a)(O,r.PLAYER_1,"#ffd600"),Object(p.a)(O,r.PLAYER_2,"#00c853"),O),(d={},Object(p.a)(d,r.PLAYER_1,"#00b8d4"),Object(p.a)(d,r.PLAYER_2,"#ff6f00"),d)],v=a(131),y=function(e){return x[e]},C=a(37),N=a(128),S=function(e){var t=Object(C.a)();return Object(N.a)(t.breakpoints.down(e))},E=a(56),A=a.n(E),P=a(66),L=a(10),R=a(22),I=a(135),T=function(e,t){var a=Object(c.useState)(e),n=Object(R.a)(a,2),r=n[0],i=n[1];return Object(c.useEffect)((function(){var e=localStorage.getItem(t);if(e){var a=JSON.parse(e);i(a)}}),[t]),Object(c.useEffect)((function(){localStorage.setItem(t,JSON.stringify(r))}),[r,t]),[r,i]},_=a(2),k={backgroundColor:"",boardSize:h[1].value,playerNames:(f={},Object(p.a)(f,r.PLAYER_1,""),Object(p.a)(f,r.PLAYER_2,""),f),playerColorScheme:g[0]},w=i.a.createContext({}),Y=function(e){var t=e.children,a=Object(C.a)(),n=T(k,"SettingsContext"),r=Object(R.a)(n,2),i=r[0],o=r[1],s=Object(c.useCallback)((function(e){var t;switch(e){case"primary":t=a.palette.primary.main;break;case"default":default:t=a.palette.grey[400]}o((function(e){return Object(L.a)(Object(L.a)({},e),{},{backgroundColor:t})}))}),[o,a.palette.primary.main,a.palette.grey]);return Object(_.jsx)(w.Provider,{value:Object(L.a)(Object(L.a)({},i),{},{setBackgroundStyle:s,setBoardSize:function(e){return o((function(t){return Object(L.a)(Object(L.a)({},t),{},{boardSize:e})}))},setPlayerNames:function(e){o((function(t){return Object(L.a)(Object(L.a)({},t),{},{playerNames:e})}))},setPlayerColorScheme:function(e){o((function(t){return Object(L.a)(Object(L.a)({},t),{},{playerColorScheme:e})}))}}),children:t})},z=i.a.createContext({}),M={turn:r.PLAYER_1,isGameOver:!1,winner:null},G=function(e){var t=e.children,a=Object(c.useContext)(w),n=a.boardSize,i=a.setBoardSize,o=a.setPlayerNames,s=T(Object(L.a)(Object(L.a)({},M),{},{squares:Array.from(new Array(n*n))}),"GameContext"),l=Object(R.a)(s,2),u=l[0],j=l[1],b=Object(c.useCallback)((function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return t[a]!==e||r.includes(a)?0:(r.push(a),1+((a+1)%n===0?0:b(e,t,a+1,r))+(a%n===0?0:b(e,t,a-1,r))+b(e,t,a-n,r)+b(e,t,a+n,r))}),[n]),m=Object(c.useCallback)((function(){var e,t=(e={},Object(p.a)(e,r.PLAYER_1,0),Object(p.a)(e,r.PLAYER_2,0),e);return u.squares.forEach((function(e,a){var n=b(e,u.squares,a);n>t[e]&&(t[e]=n)})),t[r.PLAYER_1]>t[r.PLAYER_2]?r.PLAYER_1:t[r.PLAYER_2]>t[r.PLAYER_1]?r.PLAYER_2:null}),[u.squares,b]);Object(c.useEffect)((function(){u.squares.every((function(e){return!!e}))&&j((function(e){return Object(L.a)(Object(L.a)({},e),{},{isGameOver:!0,winner:m()})}))}),[u.squares,j,m]);var O=function(){var e=Object(P.a)(A.a.mark((function e(t,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(t),o(a),j((function(e){return Object(L.a)(Object(L.a)(Object(L.a)({},e),M),{},{squares:Array.from(new Array(t*t))})}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(_.jsx)(z.Provider,{value:Object(L.a)(Object(L.a)({},u),{},{startNewGame:O,restartGame:function(){j((function(e){return Object(L.a)(Object(L.a)(Object(L.a)({},e),M),{},{squares:Array.from(new Array(n*n))})}))},performTurn:function(e){j((function(t){if(!t.squares[e]){var a=Object(I.a)(t.squares);return a[e]=t.turn,Object(L.a)(Object(L.a)({},t),{},{squares:a,turn:(n=t.turn,n===r.PLAYER_1?r.PLAYER_2:r.PLAYER_1)})}var n;return t}))}}),children:t})},B=Object(l.a)((function(e){return{paper:function(t){var a=t.tileSize,n=t.nextColor,r=t.tileColor;return{height:a,width:a,textAlign:"center",color:e.palette.text.secondary,backgroundColor:r||e.palette.common.white,"&.empty:hover":{animationDuration:"200ms",animationName:"emptyTileHover",animationFillMode:"forwards",backgroundColor:n}}}}})),q=function(e){var t=e.index,a=e.size,n=e.value,r=e.onClick,i=e.className,o=e.color,s=Object(c.useContext)(w),l=s.boardSize,u=s.playerColorScheme,j=Object(c.useContext)(z).turn,b=S("xs"),m=S(345),O=Object(c.useMemo)((function(){return a||(b?m?245/l:300/l:530/l)}),[a,b,m,l]),d=B({tileSize:O,tileColor:o||n&&u[n],nextColor:u[j]});return Object(_.jsx)(v.a,{onClick:function(){r&&void 0!==t&&r(t)},className:"".concat(d.paper," ").concat(i)})},U=a(132),D=a(9),J=Object(l.a)((function(e){return{menuButton:{width:e.spacing(25)}}})),F=function(e){var t=e.path,a=e.children,n=e.onClick,r=e.variant,c=void 0===r?"contained":r,i=e.size,o=void 0===i?"large":i,s=e.color,l=Object(D.e)(),u=J();return Object(_.jsx)(U.a,{onClick:function(){void 0!==t&&l.push(t),n&&n()},className:u.menuButton,variant:c,size:o,color:s,children:a})},W=Object(l.a)((function(e){return{root:function(t){var a=t.animate,n=t.size;return Object(p.a)({display:"flex",justifyContent:"center",alignItems:"center",position:"relative",height:Math.sqrt(2*n*n),width:a?"100%":"auto"},e.breakpoints.down("sm"),{width:a?"100vw":"auto"})},leftTile:function(e){var t=e.animate;return{position:t?"absolute":"initial",animation:"rollToRight",animationDuration:t?"1.1s":"0",animationFillMode:"forwards"}},rightTile:function(e){var t=e.animate;return{position:t?"absolute":"initial",animation:"rollToLeft",animationDuration:t?"1s":"0",animationFillMode:"forwards"}}}})),H=function(e){var t=e.animate,a=e.colorScheme,n=e.size,i=void 0===n?80:n,o=e.hideTitle,s=void 0!==o&&o,l=W({animate:t,size:i}),b=Object(c.useContext)(w).playerColorScheme;return Object(_.jsxs)(u.a,{children:[Object(_.jsxs)(u.a,{className:l.root,children:[Object(_.jsx)(q,{size:i,className:l.leftTile,color:a?a[r.PLAYER_1]:b[r.PLAYER_1]}),Object(_.jsx)(q,{size:i,className:l.rightTile,color:a?a[r.PLAYER_2]:b[r.PLAYER_2]})]}),!s&&Object(_.jsx)(u.a,{mb:2,children:Object(_.jsx)(j.a,{align:"center",variant:"h3",children:"Squares Game"})})]})},K=Object(l.a)((function(e){return{gameTurn:{display:"flex",alignItems:"center",marginBottom:e.spacing(2)},turnTile:{marginRight:e.spacing(2)},turnLabel:{color:e.palette.primary.contrastText,"&.gameOver":{color:e.palette.warning.light}},navigationButton:{marginTop:e.spacing(1)},boardOverlay:{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",left:0,top:0,right:0,bottom:0,zIndex:5,background:"radial-gradient(rgba(0, 0, 0, 0.65), transparent)"},overlayContent:{display:"flex",flexDirection:"column",alignItems:"center"}}})),Q=function(){var e=Object(c.useContext)(w).playerNames,t=Object(c.useContext)(z),a=t.isGameOver,r=t.winner,i=t.restartGame,o=K();return Object(_.jsx)(u.a,{className:o.boardOverlay,children:Object(_.jsxs)(u.a,{className:o.overlayContent,children:[Object(_.jsxs)(u.a,{className:o.gameTurn,children:[null!==r&&Object(_.jsx)(q,{className:o.turnTile,size:34,value:r}),Object(_.jsx)(j.a,{variant:"h4",className:"".concat(o.turnLabel," ").concat(a&&"gameOver"),children:null!==r?"".concat(e[r]||r," won!"):"Game over, Draw"})]}),Object(_.jsx)(u.a,{className:o.navigationButton,children:Object(_.jsx)(F,{onClick:i,color:"primary",children:y("playAgain")})}),Object(_.jsx)(u.a,{className:o.navigationButton,children:Object(_.jsx)(F,{path:n.MENU,children:y("menu")})})]})})},V=Object(l.a)((function(e){return{tileRow:{display:"flex"},tileContainer:function(t){var a=t.tileMargin;return{margin:e.spacing(a)}}}})),X=function(){var e=Object(c.useContext)(w).boardSize,t=Object(c.useContext)(z),a=t.squares,n=t.performTurn,r=S("xs"),i=V({tileMargin:r?.25:.5}),o=Object(c.useMemo)((function(){return a.reduce((function(t,a,n){var r=Math.floor(n/e);return t[r]?t[r].push(a):t[r]=[a],t}),[])}),[a,e]);return Object(_.jsx)(u.a,{children:o.map((function(t,a){return Object(_.jsx)(u.a,{className:i.tileRow,children:t.map((function(t,r){return Object(_.jsx)(u.a,{className:i.tileContainer,children:Object(_.jsx)(q,{index:a*e+r,value:t,onClick:n},"".concat(a,"-").concat(r))},r)}))},a)}))})},Z=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"column"},gameTurn:function(t){var a=t.tileMargin;return{display:"flex",alignItems:"center",marginBottom:e.spacing(2),marginLeft:e.spacing(a)}},turnTile:{marginRight:e.spacing(2)},turnLabel:{color:e.palette.primary.contrastText,"&.gameOver":{color:e.palette.warning.light}},navigationButton:function(t){var a=t.tileMargin;return{marginTop:e.spacing(1),marginLeft:e.spacing(a)}}}})),$=function(){var e=Object(c.useContext)(w),t=e.setBackgroundStyle,a=e.playerNames,r=Object(c.useContext)(z),i=r.turn,o=r.isGameOver,s=S("xs"),l=Z({tileMargin:s?.25:.5});return Object(c.useEffect)((function(){t("primary")}),[t]),Object(_.jsxs)(u.a,{className:l.root,children:[Object(_.jsxs)(u.a,{className:l.gameTurn,children:[Object(_.jsx)(q,{className:l.turnTile,size:34,value:i}),Object(_.jsx)(j.a,{variant:"h4",className:l.turnLabel,children:"Turn: ".concat(a[i]||i)})]}),Object(_.jsx)(X,{}),o&&Object(_.jsx)(Q,{}),Object(_.jsx)(u.a,{className:l.navigationButton,children:Object(_.jsx)(F,{path:n.MENU,children:y("menu")})})]})},ee=Object(l.a)((function(e){return{menu:{display:"flex",flexDirection:"column",alignItems:"center"},menuItem:{marginBottom:e.spacing(1)}}})),te=function(){var e=Object(c.useContext)(w).setBackgroundStyle,t=Object(c.useContext)(z).squares,a=ee(),r=Object(c.useMemo)((function(){return t.some((function(e){return e}))}),[t]);return Object(c.useEffect)((function(){e("default")}),[e]),Object(_.jsxs)(u.a,{className:a.menu,children:[Object(_.jsx)(H,{animate:!0}),r&&Object(_.jsx)(u.a,{className:a.menuItem,children:Object(_.jsx)(F,{path:n.GAME,color:"primary",children:y("resumeGame")})}),Object(_.jsx)(u.a,{className:a.menuItem,children:Object(_.jsx)(F,{path:n.GAME_OPTIONS,color:r?"secondary":"primary",children:y("startGame")})}),Object(_.jsx)(u.a,{className:a.menuItem,children:Object(_.jsx)(F,{path:n.SETTINGS,children:y("settings")})}),Object(_.jsx)(u.a,{className:a.menuItem,children:Object(_.jsx)(F,{path:n.INSTRUCTIONS,children:y("instructions")})})]})},ae=a(133),ne=a(70),re=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center"},buttons:{display:"flex",margin:e.spacing(1),justifyContent:"center",flexWrap:"wrap-reverse"},settingsItem:{margin:e.spacing(1)},colorChooseItem:{padding:e.spacing(1)}}})),ce=function(){var e=re(),t=Object(c.useContext)(w),a=t.setBackgroundStyle,r=t.playerColorScheme,i=t.setPlayerColorScheme,o=Object(c.useState)(g.findIndex((function(e){return Object(ne.isEqual)(e,r)}))),s=Object(R.a)(o,2),l=s[0],j=s[1];Object(c.useEffect)((function(){a("default")}),[a]);return Object(_.jsxs)(u.a,{className:e.root,children:[Object(_.jsx)(H,{}),Object(_.jsxs)(u.a,{display:"flex",children:[Object(_.jsx)(u.a,{mt:1.5,mr:2,children:Object(_.jsxs)(ae.a,{component:"legend",children:[y("colorScheme"),":"]})}),Object(_.jsx)(u.a,{children:g.map((function(e,t){return Object(_.jsx)(u.a,{children:Object(_.jsx)(U.a,{variant:l===t?"outlined":"text",onClick:function(){return j(t)},children:Object(_.jsx)(H,{hideTitle:!0,size:50,colorScheme:e})})})}))})]}),Object(_.jsxs)(u.a,{className:e.buttons,children:[Object(_.jsx)(u.a,{className:e.settingsItem,children:Object(_.jsx)(F,{path:n.MENU,children:y("cancel")})}),Object(_.jsx)(u.a,{className:e.settingsItem,children:Object(_.jsx)(F,{onClick:function(){i(g[l])},path:n.MENU,color:"primary",children:y("save")})})]})]})},ie=Object(l.a)({root:{display:"flex",flexDirection:"column",alignItems:"center"}}),oe=function(){var e=ie(),t=Object(c.useContext)(w).setBackgroundStyle;return Object(c.useEffect)((function(){t("default")}),[t]),Object(_.jsxs)(u.a,{className:e.root,children:[Object(_.jsx)(H,{}),"Instructions page",Object(_.jsx)(u.a,{children:Object(_.jsx)(F,{path:n.MENU,color:"primary",children:y("goBack")})})]})},se=a(139),le=a(134),ue=a(138),je=function(e){var t=e.boardSize,a=e.setBoardSize;return Object(_.jsxs)(u.a,{display:"flex",children:[Object(_.jsx)(u.a,{mt:1.5,mr:2,children:Object(_.jsxs)(ae.a,{component:"legend",children:[y("boardSize"),":"]})}),Object(_.jsx)(se.a,{"aria-label":y("chooseBoardSize"),value:t,onChange:function(e){a(parseInt(e.target.value))},children:h.map((function(e){var t=e.value,a=e.label;return Object(_.jsx)(le.a,{value:t,control:Object(_.jsx)(ue.a,{}),label:y(a)},a)}))})]})},be=a(136),me=Object(l.a)((function(e){return{inputs:{display:"flex",margin:e.spacing(1),justifyContent:"center",flexWrap:"wrap"},settingsItem:{margin:e.spacing(1)}}})),Oe=function(e){var t=e.playerNames,a=e.setPlayerName,n=me(),c=function(e){var t=e.target,n=t.name,r=t.value;a(n,r)};return Object(_.jsxs)(u.a,{className:n.inputs,children:[Object(_.jsx)(u.a,{className:n.settingsItem,children:Object(_.jsx)(be.a,{name:r.PLAYER_1,label:r.PLAYER_1,variant:"outlined",value:t[r.PLAYER_1],onChange:c})}),Object(_.jsx)(u.a,{className:n.settingsItem,children:Object(_.jsx)(be.a,{name:r.PLAYER_2,label:r.PLAYER_2,variant:"outlined",value:t[r.PLAYER_2],onChange:c})})]})},de=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center"},buttons:{display:"flex",margin:e.spacing(1),justifyContent:"center",flexWrap:"wrap-reverse"},button:{margin:e.spacing(1)}}})),fe=function(){var e=Object(c.useContext)(w),t=e.setBackgroundStyle,a=e.playerNames,r=Object(c.useContext)(z).startNewGame,i=de(),o=Object(c.useState)(a),s=Object(R.a)(o,2),l=s[0],j=s[1],b=Object(c.useState)(k.boardSize),m=Object(R.a)(b,2),O=m[0],d=m[1];Object(c.useEffect)((function(){t("default")}),[t]);return Object(_.jsxs)(u.a,{className:i.root,children:[Object(_.jsx)(H,{}),Object(_.jsx)(je,{boardSize:O,setBoardSize:d}),Object(_.jsx)(Oe,{playerNames:l,setPlayerName:function(e,t){j((function(a){return Object(L.a)(Object(L.a)({},a),{},Object(p.a)({},e,t))}))}}),Object(_.jsxs)(u.a,{className:i.buttons,children:[Object(_.jsx)(u.a,{className:i.button,children:Object(_.jsx)(F,{path:n.MENU,children:y("cancel")})}),Object(_.jsx)(u.a,{className:i.button,children:Object(_.jsx)(F,{onClick:function(){r(O,l)},path:n.GAME,color:"primary",children:y("startGame")})})]})]})},xe=Object(l.a)((function(e){return{mainContainer:function(e){return{display:"flex",overflow:"auto",width:"100%",minHeight:"100%",alignItems:"center",justifyContent:"center",backgroundColor:e.backgroundColor}}}})),he=function(){var e=Object(c.useContext)(w).backgroundColor,t=xe({backgroundColor:e});return Object(_.jsxs)(u.a,{className:t.mainContainer,children:[Object(_.jsx)(D.a,{exact:!0,path:n.MENU,component:te}),Object(_.jsx)(D.a,{exact:!0,path:n.GAME_OPTIONS,component:fe}),Object(_.jsx)(D.a,{exact:!0,path:n.GAME,component:$}),Object(_.jsx)(D.a,{exact:!0,path:n.SETTINGS,component:ce}),Object(_.jsx)(D.a,{exact:!0,path:n.INSTRUCTIONS,component:oe})]})},pe=a(71),ge=function(e){var t=e.children;return Object(_.jsx)(pe.a,{children:Object(_.jsx)(Y,{children:Object(_.jsx)(G,{children:t})})})};s.a.render(Object(_.jsx)(i.a.StrictMode,{children:Object(_.jsx)(ge,{children:Object(_.jsx)(he,{})})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.5efb0653.chunk.js.map