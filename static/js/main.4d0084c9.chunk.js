(this["webpackJsonpsquares-game"]=this["webpackJsonpsquares-game"]||[]).push([[0],{85:function(e,t,a){},86:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),s=a.n(c),i=a(11),o=a.n(i),u=(a(85),a(86),a(125)),l=a(133),j=a(33),b=a(27),m=a(96);!function(e){e.MENU="/",e.GAME_OPTIONS="/game-options",e.GAME="/game",e.SETTINGS="/settings",e.INSTRUCTIONS="/instructions"}(n||(n={})),function(e){e.PLAYER_1="Player 1",e.PLAYER_2="Player 2"}(r||(r={}));var O={resumeGame:"Resume game",startGame:"Start new game",settings:"Settings",instructions:"Instructions",goBack:"Go back",menu:"Menu",save:"Save",cancel:"Cancel",chooseBoardSize:"Choose the board size",boardSize:"Board size",x3:"Small (3x3)",x4:"Medium (4x4)",x6:"Large (6x6)",x8:"Extra Large (8x8)"},d=[{value:3,label:"x3"},{value:4,label:"x4"},{value:6,label:"x6"},{value:8,label:"x8"}],x=a(127),f=function(e){return O[e]},p=a(38),g=a(124),h=function(e){var t=Object(p.a)();return Object(g.a)(t.breakpoints.down(e))},v=a(12),y=a(131),N=function(e,t){var a=Object(c.useState)(e),n=Object(b.a)(a,2),r=n[0],s=n[1];return Object(c.useEffect)((function(){var e=localStorage.getItem(t);if(e){var a=JSON.parse(e);s(a)}}),[t]),Object(c.useEffect)((function(){localStorage.setItem(t,JSON.stringify(r))}),[r,t]),[r,s]},C=a(2),E=s.a.createContext({}),S=function(e){var t=e.children,a=Object(p.a)(),n=N({backgroundColor:"",boardSize:d[1].value,playerNames:{}},"SettingsContext"),r=Object(b.a)(n,2),s=r[0],i=r[1],o=Object(c.useCallback)((function(e){var t;switch(e){case"primary":t=a.palette.primary.main;break;case"default":default:t=a.palette.grey[400]}i((function(e){return Object(v.a)(Object(v.a)({},e),{},{backgroundColor:t})}))}),[i,a.palette.primary.main,a.palette.grey]);return Object(C.jsx)(E.Provider,{value:Object(v.a)(Object(v.a)({},s),{},{setBackgroundStyle:o,setBoardSize:function(e){return i((function(t){return Object(v.a)(Object(v.a)({},t),{},{boardSize:e})}))},setPlayerName:function(e,t){i((function(a){return Object(v.a)(Object(v.a)({},a),{},{playerNames:Object(v.a)(Object(v.a)({},a.playerNames),{},Object(j.a)({},e,t))})}))}}),children:t})},P=s.a.createContext({}),A={turn:r.PLAYER_1},k=function(e){var t=e.children,a=Object(c.useContext)(E).boardSize,n=N(Object(v.a)(Object(v.a)({},A),{},{squares:Array.from(new Array(a*a))}),"GameContext"),s=Object(b.a)(n,2),i=s[0],o=s[1];return Object(C.jsx)(P.Provider,{value:Object(v.a)(Object(v.a)({},i),{},{performTurn:function(e){o((function(t){if(!t.squares[e]){var a=Object(y.a)(t.squares);return a[e]=t.turn,Object(v.a)(Object(v.a)({},t),{},{squares:a,turn:(n=t.turn,n===r.PLAYER_1?r.PLAYER_2:r.PLAYER_1)})}var n;return t}))},restartGame:function(){o((function(e){return Object(v.a)(Object(v.a)(Object(v.a)({},e),A),{},{squares:Array.from(new Array(a*a))})}))}}),children:t})},I=Object(u.a)((function(e){return{paper:function(t){var a=t.tileSize;return{height:a,width:a,textAlign:"center",color:e.palette.text.secondary,"&.Player1":{backgroundColor:e.palette.success.main},"&.Player2":{backgroundColor:e.palette.error.main},"&.empty:hover":{animationDuration:"200ms",animationName:"emptyTileHover",animationFillMode:"forwards","&.turn-Player1":{backgroundColor:e.palette.success.main},"&.turn-Player2":{backgroundColor:e.palette.error.main}}}}}})),R=function(e){return e?e.replace(/ /g,""):"empty"},L=function(e){var t=e.index,a=e.size,n=e.value,r=e.onClick,s=e.className,i=Object(c.useContext)(E).boardSize,o=Object(c.useContext)(P).turn,u=h("xs"),l=h(345),j=Object(c.useMemo)((function(){return a||(u?l?245/i:300/i:530/i)}),[a,u,l,i]),b=I({tileSize:j});return Object(C.jsx)(x.a,{onClick:function(){r&&void 0!==t&&r(t)},className:"".concat(b.paper," ").concat(R(n)," turn-").concat(o.replace(/ /g,"")," ").concat(s)})},T=a(128),M=a(9),_=Object(u.a)((function(e){return{menuButton:{width:e.spacing(25)}}})),w=function(e){var t=e.path,a=e.children,n=e.onClick,r=e.variant,c=void 0===r?"contained":r,s=e.size,i=void 0===s?"large":s,o=e.color,u=Object(M.e)(),l=_();return Object(C.jsx)(T.a,{onClick:function(){u.push(t),n&&n()},className:l.menuButton,variant:c,size:i,color:o,children:a})},Y=function(){return Object(C.jsxs)(l.a,{children:[Object(C.jsx)(L,{value:r.PLAYER_1}),Object(C.jsx)(L,{value:r.PLAYER_2})]})},z=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column"},gameTurn:function(t){var a=t.tileMargin;return{display:"flex",alignItems:"center",marginBottom:e.spacing(2),marginLeft:e.spacing(a)}},turnTile:{marginRight:e.spacing(2)},turnLabel:{color:e.palette.primary.contrastText,"&.gameOver":{color:e.palette.warning.light}},navigationButton:function(t){var a=t.tileMargin;return{marginTop:e.spacing(1),marginLeft:e.spacing(a)}},tileRow:{display:"flex"},tile:function(t){var a=t.tileMargin;return{margin:e.spacing(a)}}}})),B=function(){var e=Object(c.useContext)(E),t=e.setBackgroundStyle,a=e.boardSize,s=e.playerNames,i=Object(c.useContext)(P),o=i.squares,u=i.turn,O=i.performTurn,d=h("xs"),x=z({tileMargin:d?.25:.5}),p=Object(c.useState)(!1),g=Object(b.a)(p,2),v=g[0],y=g[1],N=Object(c.useState)("Draw"),S=Object(b.a)(N,2),A=S[0],k=S[1];Object(c.useEffect)((function(){t("primary")}),[t]);var I=Object(c.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return t[n]!==e||r.includes(n)?0:(r.push(n),1+((n+1)%a===0?0:I(e,t,n+1,r))+(n%a===0?0:I(e,t,n-1,r))+I(e,t,n-a,r)+I(e,t,n+a,r))}),[a]),R=Object(c.useCallback)((function(){var e,t=(e={},Object(j.a)(e,r.PLAYER_1,0),Object(j.a)(e,r.PLAYER_2,0),e);return o.forEach((function(e,a){var n=I(e,o,a);n>t[e]&&(t[e]=n)})),t[r.PLAYER_1]>t[r.PLAYER_2]?r.PLAYER_1:t[r.PLAYER_2]>t[r.PLAYER_1]?r.PLAYER_2:"Draw"}),[o,I]);Object(c.useEffect)((function(){o.every((function(e){return!!e}))&&(k(R()),y(!0))}),[o,R]);var T=Object(c.useMemo)((function(){return o.reduce((function(e,t,n){var r=Math.floor(n/a);return e[r]?e[r].push(t):e[r]=[t],e}),[])}),[o,a]);return Object(C.jsxs)(l.a,{className:x.root,children:[Object(C.jsxs)(l.a,{className:x.gameTurn,children:[v?"Draw"!==A&&Object(C.jsx)(L,{className:x.turnTile,size:34,value:A}):Object(C.jsx)(L,{className:x.turnTile,size:34,value:u}),Object(C.jsx)(m.a,{variant:"h4",className:"".concat(x.turnLabel," ").concat(v&&"gameOver"),children:v?"Draw"!==A?"".concat(s[A]||A," won!"):"Game over, Draw":"Turn: ".concat(s[u]||u)})]}),Object(C.jsx)(l.a,{children:T.map((function(e,t){return Object(C.jsx)(l.a,{className:x.tileRow,children:e.map((function(e,n){return Object(C.jsx)(l.a,{className:x.tile,children:Object(C.jsx)(L,{index:t*a+n,value:e,onClick:O},"".concat(t,"-").concat(n))},n)}))},t)}))}),Object(C.jsx)(l.a,{className:x.navigationButton,children:Object(C.jsx)(w,{path:n.MENU,children:f("menu")})})]})},G=Object(u.a)((function(e){return{menu:{display:"flex",flexDirection:"column"},menuItem:{marginTop:e.spacing(1)}}})),D=function(){var e=Object(c.useContext)(E).setBackgroundStyle,t=Object(c.useContext)(P).squares,a=G(),r=Object(c.useMemo)((function(){return t.some((function(e){return e}))}),[t]);return Object(c.useEffect)((function(){e("default")}),[e]),Object(C.jsxs)(l.a,{className:a.menu,children:[Object(C.jsx)(Y,{}),r&&Object(C.jsx)(l.a,{className:a.menuItem,children:Object(C.jsx)(w,{path:n.GAME,color:"primary",children:f("resumeGame")})}),Object(C.jsx)(l.a,{className:a.menuItem,children:Object(C.jsx)(w,{path:n.GAME_OPTIONS,color:r?"secondary":"primary",children:f("startGame")})}),Object(C.jsx)(l.a,{className:a.menuItem,children:Object(C.jsx)(w,{path:n.SETTINGS,children:f("settings")})}),Object(C.jsx)(l.a,{className:a.menuItem,children:Object(C.jsx)(w,{path:n.INSTRUCTIONS,children:f("instructions")})})]})},U=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center"},buttons:{display:"flex",margin:e.spacing(1),justifyContent:"center",flexWrap:"wrap-reverse"},settingsItem:{margin:e.spacing(1)}}})),q=function(){var e=Object(c.useContext)(E).setBackgroundStyle,t=U();return Object(c.useEffect)((function(){e("default")}),[e]),Object(C.jsx)(l.a,{className:t.root,children:Object(C.jsxs)(l.a,{className:t.buttons,children:[Object(C.jsx)(l.a,{className:t.settingsItem,children:Object(C.jsx)(w,{path:n.MENU,children:f("cancel")})}),Object(C.jsx)(l.a,{className:t.settingsItem,children:Object(C.jsx)(w,{path:n.MENU,color:"primary",children:f("save")})})]})})},J=function(){var e=Object(c.useContext)(E).setBackgroundStyle;return Object(c.useEffect)((function(){e("default")}),[e]),Object(C.jsxs)(l.a,{children:["Instructions page",Object(C.jsx)(l.a,{children:Object(C.jsx)(w,{path:n.MENU,color:"primary",children:f("goBack")})})]})},W=a(136),F=a(129),H=a(135),K=a(130),Q=a(134),V=function(){var e=Object(c.useContext)(E),t=e.boardSize,a=e.setBoardSize;return Object(C.jsxs)(W.a,{component:"fieldset",children:[Object(C.jsxs)(F.a,{component:"legend",children:[f("boardSize"),":"]}),Object(C.jsx)(H.a,{"aria-label":f("chooseBoardSize"),value:t,onChange:function(e){a(parseInt(e.target.value))},children:d.map((function(e){var t=e.value,a=e.label;return Object(C.jsx)(K.a,{value:t,control:Object(C.jsx)(Q.a,{}),label:f(a)},a)}))})]})},X=a(132),Z=Object(u.a)((function(e){return{inputs:{display:"flex",margin:e.spacing(1),justifyContent:"center",flexWrap:"wrap"},settingsItem:{margin:e.spacing(1)}}})),$=function(){var e=Object(c.useContext)(E),t=e.playerNames,a=e.setPlayerName,n=Z(),s=function(e){var t=e.target,n=t.name,r=t.value;a(n,r)};return Object(C.jsxs)(l.a,{className:n.inputs,children:[Object(C.jsx)(l.a,{className:n.settingsItem,children:Object(C.jsx)(X.a,{name:r.PLAYER_1,label:r.PLAYER_1,variant:"outlined",value:t[r.PLAYER_1],onChange:s})}),Object(C.jsx)(l.a,{className:n.settingsItem,children:Object(C.jsx)(X.a,{name:r.PLAYER_2,label:r.PLAYER_2,variant:"outlined",value:t[r.PLAYER_2],onChange:s})})]})},ee=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center"},buttons:{display:"flex",margin:e.spacing(1),justifyContent:"center",flexWrap:"wrap-reverse"},button:{margin:e.spacing(1)}}})),te=function(){var e=Object(c.useContext)(E).setBackgroundStyle,t=Object(c.useContext)(P).restartGame,a=ee();return Object(c.useEffect)((function(){e("default")}),[e]),Object(C.jsxs)(l.a,{className:a.root,children:[Object(C.jsx)(V,{}),Object(C.jsx)($,{}),Object(C.jsxs)(l.a,{className:a.buttons,children:[Object(C.jsx)(l.a,{className:a.button,children:Object(C.jsx)(w,{path:n.MENU,children:f("goBack")})}),Object(C.jsx)(l.a,{className:a.button,children:Object(C.jsx)(w,{onClick:t,path:n.GAME,color:"primary",children:f("startGame")})})]})]})},ae=Object(u.a)((function(e){return{mainContainer:function(e){return{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center",backgroundColor:e.backgroundColor}}}})),ne=function(){var e=Object(c.useContext)(E).backgroundColor,t=ae({backgroundColor:e});return Object(C.jsxs)(l.a,{className:t.mainContainer,children:[Object(C.jsx)(M.a,{exact:!0,path:n.MENU,component:D}),Object(C.jsx)(M.a,{exact:!0,path:n.GAME_OPTIONS,component:te}),Object(C.jsx)(M.a,{exact:!0,path:n.GAME,component:B}),Object(C.jsx)(M.a,{exact:!0,path:n.SETTINGS,component:q}),Object(C.jsx)(M.a,{exact:!0,path:n.INSTRUCTIONS,component:J})]})},re=a(69),ce=function(e){var t=e.children;return Object(C.jsx)(re.a,{children:Object(C.jsx)(S,{children:Object(C.jsx)(k,{children:t})})})};o.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(ce,{children:Object(C.jsx)(ne,{})})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.4d0084c9.chunk.js.map